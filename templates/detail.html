<style>
    body {
        font-family: Arial, sans-serif;
    }
    .image-container {
        display: flex;
        flex-wrap: wrap;
    }
    .image-container img {
        margin: 5px;
        width: 80px;
        height: 80px; 
        cursor: pointer; 
    }
    .modal {
        display: none;
        position: fixed;
        z-index: 999;
        padding-top: 25px;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.9);
    }
    .modal-content {
        margin: auto;
        display: block;
        width: 80%;
    }
    .modal-content img {
        width: 100%;
        height: auto;
        display: block;
        margin: auto;
    }
    .close {
        color: #ccc;
        font-size: 30px;
        font-weight: bold;
        position: absolute;
        top: 10px;
        right: 25px;
        cursor: pointer;
    }
    .close:hover,
    .close:focus {
        color: #fff;
        text-decoration: none;
        cursor: pointer;
    }
</style>
<h1>{{ item.namae }}</h1>
{% if pi0 %}
<img src="data:image/jpeg;base64,{{ pi0 }}" alt="Image" width="256" height="256" onclick="openModal('{{ pi0|safe }}')">
{% endif %}
{% if item.bunrui %}
<p>{{ item.bunrui }}</p>
{% else %}
<p>未分類</p>
{% endif %}
<p>{{ item.naiyou }}</p>
<div class="image-container">
    {% if p1 %}
    <img src="data:image/jpeg;base64,{{ p1 }}" alt="Image" onclick="openModal('{{ p1|safe }}')">
    {% endif %}
    {% if p2 %}
    <img src="data:image/jpeg;base64,{{ p2 }}" alt="Image" onclick="openModal('{{ p2|safe }}')">
    {% endif %}
    {% if p3 %}
    <img src="data:image/jpeg;base64,{{ p3 }}" alt="Image" onclick="openModal('{{ p3|safe }}')">
    {% endif %}
    {% if p4 %}
    <img src="data:image/jpeg;base64,{{ p4 }}" alt="Image" onclick="openModal('{{ p4|safe }}')">
    {% endif %}
</div>
<div id="picModal" class="modal">
    <span class="close" onclick="closeModal()">&times;</span>
    <img class="modal-content" id="modalImg">
</div>
<script>
    function openModal(imageBase64) {
        var modal = document.getElementById("picModal");
        var modalImg = document.getElementById("modalImg");
        modal.style.display = "block";
        modalImg.src = "data:image/jpeg;base64," + imageBase64;
    }
    function closeModal() {
        var modal = document.getElementById("picModal");
        modal.style.display = "none";
    }
</script>